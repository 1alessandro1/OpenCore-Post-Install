<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Optimizing Power Management | OpenCore Post-Install</title>
    <meta name="generator" content="VuePress 1.5.2">
    <link rel="&#39;stylesheet" href="/OpenCore-Post-Install/styles/website.css">
    <meta name="description" content="">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="preload" href="/OpenCore-Post-Install/assets/css/0.styles.54998e6c.css" as="style"><link rel="preload" href="/OpenCore-Post-Install/assets/js/app.c86548fc.js" as="script"><link rel="preload" href="/OpenCore-Post-Install/assets/js/2.0e0d040f.js" as="script"><link rel="preload" href="/OpenCore-Post-Install/assets/js/6.824df221.js" as="script"><link rel="preload" href="/OpenCore-Post-Install/assets/js/29.b9c00466.js" as="script"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/10.b37004dc.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/11.5f0e5115.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/12.f3c6e6d5.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/13.ace8d1c1.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/14.3e95a4bf.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/15.2e1fb274.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/16.a91fc54e.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/17.5cd9f2be.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/18.c8bce622.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/19.4ec5b340.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/20.ebf1c4df.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/21.ffe87d65.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/22.71ff5efe.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/23.26aac14c.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/24.09520e51.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/25.49266736.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/26.0c265302.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/27.5c1da420.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/28.d40e3fca.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/3.3c3e0698.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/30.ba00b9c7.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/31.891c356f.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/32.f9b478c4.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/33.feeb3520.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/34.cdffd4b6.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/35.ef29aa78.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/36.dbb35e65.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/37.139cc254.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/38.01e4911d.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/4.8c41a802.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/5.0cc0743f.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/7.c0a8d41c.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/8.9b72a8ac.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/9.f4b04b75.js">
    <link rel="stylesheet" href="/OpenCore-Post-Install/assets/css/0.styles.54998e6c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/OpenCore-Post-Install/" class="home-link router-link-active"><img src="/OpenCore-Post-Install/homepage.png" alt="OpenCore Post-Install" class="logo"> <span class="site-name can-hide">OpenCore Post-Install</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Dortania Guides" class="dropdown-title"><span class="title">Dortania Guides</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://dortania.github.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Home Site
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://dortania.github.io/OpenCore-Install-Guide/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  OpenCore Install Guide
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://dortania.github.io/Getting-Started-With-ACPI/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Getting Started With ACPI
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://dortania.github.io/GPU-Buyers-Guide/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GPU Buyers Guide
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://dortania.github.io/Wireless-Buyers-Guide/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Wireless Buyers Guide
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://dortania.github.io/Anti-Hackintosh-Buyers-Guide/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Anti Buyers Guide
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <div class="nav-item"><a role="button" aria-label="Switch to light mode" class="nav-link"><span>Switch theme</span></a></div> <a href="https://github.com/dortania/OpenCore-Post-Install" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Dortania Guides" class="dropdown-title"><span class="title">Dortania Guides</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://dortania.github.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Home Site
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://dortania.github.io/OpenCore-Install-Guide/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  OpenCore Install Guide
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://dortania.github.io/Getting-Started-With-ACPI/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Getting Started With ACPI
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://dortania.github.io/GPU-Buyers-Guide/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GPU Buyers Guide
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://dortania.github.io/Wireless-Buyers-Guide/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Wireless Buyers Guide
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://dortania.github.io/Anti-Hackintosh-Buyers-Guide/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Anti Buyers Guide
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <div class="nav-item"><a role="button" aria-label="Switch to light mode" class="nav-link"><span>Switch theme</span></a></div> <a href="https://github.com/dortania/OpenCore-Post-Install" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Introduction</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/OpenCore-Post-Install/" aria-current="page" class="sidebar-link">OpenCore Post-Install</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Universal</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/OpenCore-Post-Install/universal/security.html" class="sidebar-link">Security and FileVault</a></li><li><a href="/OpenCore-Post-Install/universal/audio.html" class="sidebar-link">Fixing Audio</a></li><li><a href="/OpenCore-Post-Install/universal/oc2hdd.html" class="sidebar-link">Booting without USB</a></li><li><a href="/OpenCore-Post-Install/universal/update.html" class="sidebar-link">Updating OpenCore, kexts and macOS</a></li><li><a href="/OpenCore-Post-Install/universal/drm.html" class="sidebar-link">Fixing DRM</a></li><li><a href="/OpenCore-Post-Install/universal/iservices.html" class="sidebar-link">Fixing iServices</a></li><li><a href="/OpenCore-Post-Install/universal/pm.html" aria-current="page" class="active sidebar-link">Fixing Power Management</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/OpenCore-Post-Install/universal/pm.html#enabling-x86platformplugin" class="sidebar-link">Enabling X86PlatformPlugin</a></li><li class="sidebar-sub-header"><a href="/OpenCore-Post-Install/universal/pm.html#using-cpu-friend" class="sidebar-link">Using CPU Friend</a></li><li class="sidebar-sub-header"><a href="/OpenCore-Post-Install/universal/pm.html#sandy-and-ivy-bridge-power-management" class="sidebar-link">Sandy and Ivy Bridge Power Management</a></li><li class="sidebar-sub-header"><a href="/OpenCore-Post-Install/universal/pm.html#amd-cpu-power-management" class="sidebar-link">AMD CPU Power Management</a></li></ul></li><li><a href="/OpenCore-Post-Install/universal/sleep.html" class="sidebar-link">Fixing Sleep</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>USB Fixes</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/OpenCore-Post-Install/usb/" class="sidebar-link">USB Mapping: Introduction</a></li><li><a href="/OpenCore-Post-Install/usb/system-preparation.html" class="sidebar-link">System Preparation</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>USB Mapping</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Miscellaneous Fixes</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Laptop Specifics</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/OpenCore-Post-Install/laptop-specific/battery.html" class="sidebar-link">Fixing Battery Read-outs</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Cosmetics</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/OpenCore-Post-Install/cosmetic/verbose.html" class="sidebar-link">Fixing Resolution and Verbose</a></li><li><a href="/OpenCore-Post-Install/cosmetic/gui.html" class="sidebar-link">Add GUI and Boot-chime</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Multiboot</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/OpenCore-Post-Install/multiboot/bootstrap.html" class="sidebar-link">Setting up Bootstrap.efi</a></li><li><a href="/OpenCore-Post-Install/multiboot/bootcamp.html" class="sidebar-link">Installing BootCamp</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Miscellaneous</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/OpenCore-Post-Install/misc/rtc.html" class="sidebar-link">Fixing RTC</a></li><li><a href="/OpenCore-Post-Install/misc/msr-lock.html" class="sidebar-link">Fixing CFG Lock</a></li><li><a href="/OpenCore-Post-Install/misc/nvram.html" class="sidebar-link">Emulated NVRAM</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-succinct-content content__default"><h1 id="optimizing-power-management"><a href="#optimizing-power-management" class="header-anchor">#</a> Optimizing Power Management</h1> <h2 id="enabling-x86platformplugin"><a href="#enabling-x86platformplugin" class="header-anchor">#</a> Enabling X86PlatformPlugin</h2> <p>So before we can fine tune power management to our liking, we need to first make sure Apple's XCPM core is loaded. Note that this is supported <strong>only on Haswell and newer</strong>, Sandy, Ivy Bridge and AMD CPUs should refer to the bottom of the guides:</p> <ul><li><a href="/OpenCore-Post-Install/universal/pm.html#sandy-and-ivy-bridge-power-management">Sandy and Ivy Bridge Power Management</a></li> <li><a href="/OpenCore-Post-Install/universal/pm.html#amd-cpu-power-management">AMD CPU Power Management</a></li></ul> <p>To start, grab <a href="https://github.com/khronokernel/IORegistryClone/blob/master/ioreg-302.zip" target="_blank" rel="noopener noreferrer">IORegistryExplorer<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> and look for <code>AppleACPICPU</code>(note if you use search, it won't show the children so clear your search once you've found the entry):</p> <table><thead><tr><th style="text-align:center;">XCPM Present</th> <th style="text-align:center;">Missing XCPM</th></tr></thead> <tbody><tr><td style="text-align:center;"><img src="/OpenCore-Post-Install/assets/img/pm-working.6d53e2d0.png" alt=""></td> <td style="text-align:center;"><img src="/OpenCore-Post-Install/assets/img/pm-not-working.2706013b.png" alt=""></td></tr></tbody></table> <p>As you can see from the left image, we have the X86PlatformPlugin attached meaning Apple's CPU Power Management Drivers are doing their thing. If you get something like to the right image, then there's likely an issue. Make sure to check the following:</p> <ul><li>SSDT-PLUG.<strong>aml</strong> is both present and enabled in your config.plist and EFI/OC/ACPI
<ul><li>If you're missing this, head to <a href="https://dortania.github.io/Getting-Started-With-ACPI" target="_blank" rel="noopener noreferrer">Getting Started With ACPI<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> on how to make this</li></ul></li> <li>SSDT-PLUG is set to the first thread of your CPU, you can check by selecting the first CPU listed(<code>CP00</code> for our example) and make sure you have this in the properties:</li></ul> <div class="language- extra-class"><pre class="language-text"><code>plugin-type | Number | 0x1
</code></pre></div><p><strong>X99 Note</strong>:</p> <p>XCPM does not natively support Haswell-E and Broadwell-E, this means we need to spoof the CPU ID into a model that does supports XCPM:</p> <ul><li><p><strong>Haswell E</strong>:</p> <ul><li><code>Kernel -&gt; Emulate</code>:
<ul><li>Cpuid1Data﻿: <code>C3060300 00000000 00000000 00000000</code></li> <li>Cpuid1Mask: <code>FFFFFFFF 00000000 00000000 00000000</code></li></ul></li></ul></li> <li><p><strong>Broadwell-E</strong>:</p> <ul><li><code>Kernel -&gt; Emulate</code>:
<ul><li>Cpuid1Data﻿: <code>D4060300﻿ 00000000 00000000 00000000</code></li> <li>Cpuid1Mask: <code>FFFFFFFF 00000000 00000000 00000000</code></li></ul></li></ul></li></ul> <h2 id="using-cpu-friend"><a href="#using-cpu-friend" class="header-anchor">#</a> Using CPU Friend</h2> <p>To start, we're gonna need a couple things:</p> <ul><li>X86PlatformPlugin loaded
<ul><li>This means Sandy, Ivy Birdge and AMD CPUs are not supported</li></ul></li> <li><a href="https://github.com/acidanthera/CPUFriend/releases" target="_blank" rel="noopener noreferrer">CPUFriend<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://github.com/corpnewt/CPUFriendFriend" target="_blank" rel="noopener noreferrer">CPUFriendFriend<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <p>Now lets run CPUFriendFriend.command</p> <p><img src="/OpenCore-Post-Install/assets/img/lpm.79ebcb8e.png" alt=""></p> <p>The <code>min hex freq</code> should be what the lowest possible TDP for the CPU, on Intel's <a href="https://ark.intel.com/" target="_blank" rel="noopener noreferrer">ARK site<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> search for <code>TDP-down Frequency</code> and convert this value to HEX. Note that not all CPUs support <code>TDP-down Frequency</code>, like the i7-9700T vs i7 9700. In these scenarios, you'll want to do a bit more research into your CPU, specifically:</p> <ul><li>Minimum Multiplier (Generally stable with x10 on Intel's consumer platform)</li> <li>FSB (Front Side Bus Frequency, this is 100MHz on most CPUs)</li></ul> <p>LPM = MinMultiplier x FSB</p> <p>For this example we'll be using the <a href="https://ark.intel.com/content/www/us/en/ark/products/126240/intel-core-i9-7920x-x-series-processor-16-5m-cache-up-to-4-30-ghz.html" target="_blank" rel="noopener noreferrer">i9 7920x<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> which has a base clock of 2.9 GHz but no LPM, so we'll choose 1.3 GHz(13x100) and work our way up/down until we find stability.</p> <p><strong>Note</strong>:  Mobile SMBIOS will likely have several Frequency Vectors, this is for how many steps your CPU will take. On the MacBook9,1 SMBIOS for example, we get 3 Frequency Vectors. So the idea is:</p> <ol><li>Lowest frequency macOS will idle at(ie. sitting at the desktop)</li> <li>Middle frequency for simple tasks(ie. text editing or using the finder)</li> <li>Average frequency for little more demanding tasks(ie. Safari, Youtube, etc)</li></ol> <p>The last frequency is not your maximum frequency so don't worry about being capped at that limit.</p> <p><img src="/OpenCore-Post-Install/assets/img/macbook.30e3c75e.png" alt=""></p> <div class="language- extra-class"><pre class="language-text"><code>echo &quot;obase=16; 13&quot; | bc
</code></pre></div><ul><li>Pay close attention we used 13 for 1.3Ghz and not 1.3</li></ul> <p><img src="/OpenCore-Post-Install/assets/img/epp.17b6b741.png" alt=""></p> <p>Next up is the Energy Performance Preference, EPP. This tells macOS how fast to turbo up the CPU to its full clock. <code>00</code> will tell macOS to let the CPU go as fast as it can as quickly as it can while <code>FF</code> will tell macOS to take things slowly and let the CPU ramp up over a much longer period of time. Depending on what you're doing and the cooling on your machine, you may want to set something in the middle. Below chart can help out a bit:</p> <table><thead><tr><th style="text-align:left;">EPP</th> <th style="text-align:left;">Speed</th></tr></thead> <tbody><tr><td style="text-align:left;">0x00-0x3F</td> <td style="text-align:left;">Max Performance</td></tr> <tr><td style="text-align:left;">0x40-0x7F</td> <td style="text-align:left;">Balance performance</td></tr> <tr><td style="text-align:left;">0x80-0xBF</td> <td style="text-align:left;">Balance power</td></tr> <tr><td style="text-align:left;">0xC0-0xFF</td> <td style="text-align:left;">Max Power Saving</td></tr></tbody></table> <p><strong>Note</strong>: Only Skylake and newer SMBIOS officially support EPP</p> <p><img src="/OpenCore-Post-Install/assets/img/done.520d0bc4.png" alt=""> <img src="/OpenCore-Post-Install/assets/img/files.30824430.png" alt=""></p> <p>Once you're finished, you'll be provided with a CPUFriendDataProvider.kext and ssdt_data.aml. Which you choose is your preference but I recommend the kext variant to avoid any headaches with data injection into Windows and Linux.</p> <ul><li><strong>Note</strong>: Load order does not matter with the CPUFriendDataProvider as it's just a plist-only kext</li> <li><strong>Note 2</strong>: Wake issues resulting from CPUFriend is likely due to incorrect frequency vectors, every system is unique so you'll need to play around until you get a stable config. Kernel panics will have <code>Sleep Wake failure in efi</code>.</li></ul> <h2 id="sandy-and-ivy-bridge-power-management"><a href="#sandy-and-ivy-bridge-power-management" class="header-anchor">#</a> Sandy and Ivy Bridge Power Management</h2> <p>With Sandy and Ivy Bridge, consumer PCs have issues connecting to Apple's XCPM. So to get around this we need to create our own Power Management Table.</p> <p>What we'll need:</p> <ul><li>CpuPm and Cpu0Ist tables dropped</li> <li><a href="https://github.com/Piker-Alpha/ssdtPRGen.sh" target="_blank" rel="noopener noreferrer">ssdtPRGen<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <p>To drop the CpuPm and Cpu0Ist tables, head to ACPI -&gt; Delete:</p> <table><thead><tr><th style="text-align:left;">Key</th> <th style="text-align:left;">Type</th> <th style="text-align:left;">Value</th></tr></thead> <tbody><tr><td style="text-align:left;">All</td> <td style="text-align:left;">Boolean</td> <td style="text-align:left;">YES</td></tr> <tr><td style="text-align:left;">Comment</td> <td style="text-align:left;">String</td> <td style="text-align:left;">Drop CpuPm</td></tr> <tr><td style="text-align:left;">Enabled</td> <td style="text-align:left;">Boolean</td> <td style="text-align:left;">YES</td></tr> <tr><td style="text-align:left;">OemTableId</td> <td style="text-align:left;">Data</td> <td style="text-align:left;">437075506d000000</td></tr> <tr><td style="text-align:left;">TableLength</td> <td style="text-align:left;">Number</td> <td style="text-align:left;">0</td></tr> <tr><td style="text-align:left;">TableSignature</td> <td style="text-align:left;">Data</td> <td style="text-align:left;">53534454</td></tr></tbody></table> <table><thead><tr><th style="text-align:left;">Key</th> <th style="text-align:left;">Type</th> <th style="text-align:left;">Value</th></tr></thead> <tbody><tr><td style="text-align:left;">All</td> <td style="text-align:left;">Boolean</td> <td style="text-align:left;">YES</td></tr> <tr><td style="text-align:left;">Comment</td> <td style="text-align:left;">String</td> <td style="text-align:left;">Drop Cpu0Ist</td></tr> <tr><td style="text-align:left;">Enabled</td> <td style="text-align:left;">Boolean</td> <td style="text-align:left;">YES</td></tr> <tr><td style="text-align:left;">OemTableId</td> <td style="text-align:left;">Data</td> <td style="text-align:left;">4370753049737400</td></tr> <tr><td style="text-align:left;">TableLength</td> <td style="text-align:left;">Number</td> <td style="text-align:left;">0</td></tr> <tr><td style="text-align:left;">TableSignature</td> <td style="text-align:left;">Data</td> <td style="text-align:left;">53534454</td></tr></tbody></table> <p>Once this is done, we can now grab ssdtPRGen and run it:</p> <p><img src="/OpenCore-Post-Install/assets/img/prgen-run.224e35cf.png" alt=""></p> <p>Once you're done, you'll be provided with an SSDT.aml under <code>/Users/your-name&gt;/Library/ssdtPRGen/ssdt.dsl</code>, you can easily find it with the Cmd+Shift+G shortcut and pasting <code>~/Library/ssdtPRGen/</code></p> <p><img src="/OpenCore-Post-Install/assets/img/prgen-done.543f80ef.png" alt=""></p> <p>Remember to now add this to both EFI/OC/ACPI and your config.plist, I recommend renaming it to SSDT-PM to find it more easily</p> <h2 id="amd-cpu-power-management"><a href="#amd-cpu-power-management" class="header-anchor">#</a> AMD CPU Power Management</h2> <p>While macOS might not officially support AMD CPU Power management, there are community efforts to add it. Specifically being <a href="https://github.com/trulyspinach/SMCAMDProcessor" target="_blank" rel="noopener noreferrer">SMCAMDProcessor<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>. Note that when adding this kext, it should be after VirtualSMC in your config.plist as it's a plugin.</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">8/4/2020, 10:56:47 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ⟵
      <a href="/OpenCore-Post-Install/universal/iservices.html" class="prev">
        Fixing iServices
      </a></span> <span class="next"><a href="/OpenCore-Post-Install/universal/sleep.html">
        Fixing Sleep
      </a>
      ⟶
    </span></p></div> </main></div><div class="global-ui"><div style="visibility:hidden;display:none;"></div><!----></div></div>
    <script src="/OpenCore-Post-Install/assets/js/app.c86548fc.js" defer></script><script src="/OpenCore-Post-Install/assets/js/2.0e0d040f.js" defer></script><script src="/OpenCore-Post-Install/assets/js/6.824df221.js" defer></script><script src="/OpenCore-Post-Install/assets/js/29.b9c00466.js" defer></script>
  </body>
</html>
